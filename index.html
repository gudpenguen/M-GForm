<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meet & Greet Reservation Form / Meet & Greet Rezervasyon Formu</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <style>
      .header-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 1px;
            text-align: center;
        }
        
         .logo {
            max-width: 300px;
            height: auto;
            margin-bottom: 1px;
      		margin-left: 60px;
            object-fit: contain;
        }
        
        .form-title {
            font-family: 'Montserrat', sans-serif;
            color: #FFFFFF;
            font-size: 24px;
            font-weight: 500;
            letter-spacing: 1px;
            margin: 0;
      		margin-bottom: 0px;
            padding-top: 10px;
      		padding-bottom: 1px;
        }  
      body {
            font-family: 'Montserrat', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #1A3658;
            color: #FFFFFF;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
         .container {
            width: 100%;
            max-width: 800px;
            background: linear-gradient(135deg, #D4B595 0%, #9B7B5B 50%);
            padding: 20px;
      		border-radius: 10px;
      		box-shadow: 0 4px 200px rgba(0, 0, 0, 10);
            border: 0px solid #C4A484;
            box-sizing: border-box;
            position: relative;
        }
        h1 {
            display: none;
        }
        form {
            display: flex;
            flex-direction: column;
            gap:1px;
        }
        .form-section {
            padding: 15px;
            margin-bottom: 8px;
            flex-grow: 1;
        }
        .form-section h2 {
            margin-top: 0;
            font-size: 18px;
            border-bottom: 1px solid #DCC7B7;
            padding-bottom: 1px;
            color: #FFFFFF;
        }
        .form-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        .form-group {
            flex: 1;
            margin-right: 10px;
        }
        .form-group:last-child {
            margin-right: 0;
        }
        label {
            font-weight: 500;
            display: block;
            margin-bottom: 5px;
            color: #FFFFFF;
        }
        input, select, textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #FFFF;
            border-radius: 4px;
            font-size: 14px;
            background-color: #FFFFFF;
            color: #000000;
            box-sizing: border-box;
      		box-shadow: 0 0px 3px rgba(5, 5, 5, 10);
        }
        input[type="date"], input[type="time"] {
            color-scheme: dark;
        }
        .checkbox-group {
            display: flex;
            align-items: center;
        }
        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin-right: 5px;
        }
        .button-container {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin-top: 20px;
        }
        button {
            background-color: #FFFFFF;
            color: #002045;
            padding: 10px 15px;
            border: none;
      		border-radius: 3px;
            cursor: pointer;
            font-size: 16px;
      		box-shadow: 0 2px 9px rgba(5, 5, 5, 10);
        }
        button:hover {
            background-color: #cc9d78;
        }
        .reset-button {
            background-color: #4a4a4a;
            color: #999999;
            cursor: not-allowed;
        }
        .reset-button.active {
            background-color: #FFFFFF;
            color: #002045;
            cursor: pointer;
        }
        .reset-button.active:hover {
            background-color: #D0AE93;
        }
        .hidden {
            display: none;
        }
        .info-text {
            font-size: 12px;
            color: #FFFFFFF;
            margin-top: 5px;
        }
        .passenger-info .form-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .passenger-info .form-group {
            display: flex;
            align-items: center;
        }
        .passenger-info label {
            margin-right: 10px;
            margin-bottom: 0;
        }
        .passenger-info input[type="number"] {
            width: 60px;
        }
        .special-requests .checkbox-group {
            width: 50%;
            margin-bottom: 10px;
        }
        .language-selector {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 1000;
        }
        .language-selector select {
            padding: 5px;
            font-size: 14px;
            background-color: #FFFFFF;
            color: #000000;
            border: 1px solid #000000;
            cursor: pointer;
        }
        .language-selector select:hover {
            background-color: #FFFFFF;
        }
        .instructions {
            font-size: 14px;
            margin-bottom: 20px;
            white-space: pre-wrap;
      		line-height: 1.6;
        }
        .highlighted {
            font-weight: bold;
            background-color: D0AE93;
            color: black;
        }
        .account-number-container {
            margin-top: 10px;
        }
        .account-number-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #D0AE93;
            background-color: #FFFFFF;
            color: #000000;
            box-sizing: border-box;
        }
        .tab-container {
            display: flex;
            margin-bottom: 7px;
      		border: 1px solid #D0AE93; 
    		border-radius: 2px; 
    		overflow: hidden; 
    		width: 100%;
    		box-shadow: 0 0px 3px rgba(5, 5, 5, 10);
        }
        .tab-button {
      		flex: 1;
            padding: 6px;
            background-color: #FFFFFF;
            color: #000000;
            border: none;
      		border-radius: 1px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
      .tab-button:last-child {
            border-right: 0px solid #FFFFFF;
       }
        .tab-button.active {
            background-color: #D0AE93;
        }
        .tab-button:hover {
            background-color: #D0AE93;
        }
        .tab-content {
            display: none;
      		width: 100%;
        }
        .tab-content.active {
            display: block;
        }
        /* New styles for code highlighting */
        pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 1em;
            border-radius: 5px;
            overflow-x: auto;
        }
        code {
            font-family: 'Courier New', Courier, monospace;
        }
        .string { color: #a6e22e; }
        .number { color: #ae81ff; }
        .boolean { color: #66d9ef; }
        .null { color: #66d9ef; }
        .key { color: #f92672; }
        .keyword { color: #66d9ef; }
        .comment { color: #75715e; }
    </style>
</head>
<body>
    <div class="container">
        <div class="language-selector">
            <select id="languageSelect" onchange="changeLanguage()">
                <option value="tr">TR</option>
                <option value="en">EN</option>
            </select>
        </div>

        <!-- Turkish content -->
        <div id="trContent">
            <div class="header-container">
                <img src="https://igapass.com/medias/?context=bWFzdGVyfGltYWdlc3w3NzM0fGltYWdlL3BuZ3xpbWFnZXMvaGM1L2hlMi85MDEyNTIwNzQ3MDM4LnBuZ3w3OWFmMzBiYjNmZjJiYWMxMGQ0ZDZiNTQ2Nzk3YzVmYjgzMDI4OGYwYmNiOTBiY2NmMTRmYzU3ZGE0NjRhMzUx" 
                     alt="Meet & Greet Logo" 
                     class="logo">
                <p class="form-title">REZERVASYON FORMU</p>
            </div>
            <form id="reservationFormTr">
                <div class="form-section">
                    <h2>MİSAFİR BİLGİLERİ</h2>
                    <div class="form-group">
                        <label for="guestNameTr">Misafirlerimizin Adı & Soyadı:</label>
                        <input type="text" id="guestNameTr" name="guestName" required>
                    </div>
                </div>

                <div class="form-section">
                    <h2>UÇUŞ BİLGİLERİ</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="serviceTypeTr">Hizmet Türü:</label>
                            <select id="serviceTypeTr" name="serviceType" required>
                                <option value="">Seçiniz</option>
                                <option value="arrival">Gelen</option>
                                <option value="departure">Giden</option>
                                <option value="transit">Transit</option>
                            </select>
                        </div>
                    </div>
                    <div id="arrivalInfoTr" class="hidden">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="arrivalServiceDateTr">Gelen Hizmet Tarihi:</label>
                                <input type="text" id="arrivalServiceDateTr" name="arrivalServiceDate" placeholder="gg.aa.yyyy">
                                <p class="info-text">*Uçağınızın İstanbul Havalimanına <strong>İNİŞ</strong> tarihini yazmanızı rica ederiz.</p>
                            </div>
                            <div class="form-group">
                                <label for="arrivalFlightCodeTr">Gelen Uçuş Kodu:</label>
                                <input type="text" id="arrivalFlightCodeTr" name="arrivalFlightCode" placeholder="Örn: TK1234">
                            </div>
                        </div>
                    </div>
                    <div id="departureInfoTr" class="hidden">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="departureServiceDateTr">Giden Uçuş Tarihi:</label>
                                <input type="text" id="departureServiceDateTr" name="departureServiceDate" placeholder="gg.aa.yyyy">
                            </div>
                            <div class="form-group">
                                <label for="departureFlightCodeTr">Giden Uçuş Kodu:</label>
                                <input type="text" id="departureFlightCodeTr" name="departureFlightCode" placeholder="Örn: TK1234">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-section passenger-info">
                    <h2>MİSAFİR SAYISI</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="adultCountTr">Yetişkin Sayısı:</label>
                            <input type="number" id="adultCountTr" name="adultCount" min="0" max="1000">
                        </div>
                        <div class="form-group">
                            <label for="seniorCountTr">65+ Yaş Misafir Sayısı:</label>
                            <input type="number" id="seniorCountTr" name="seniorCount" min="0" max="1000">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="childCountTr">Çocuk Sayısı (7-12 yaş):</label>
                            <input type="number" id="childCountTr" name="childCount" min="0" max="1000">
                        </div>
                        <div class="form-group">
                            <label for="infantCountTr">Bebek Sayısı (0-6 yaş):</label>
                            <input type="number" id="infantCountTr" name="infantCount" min="0" max="1000">
                        </div>
                    </div>
                </div>

                <div class="form-section special-requests">
                    <h2>ÖZEL İSTEKLER VE İHTİYAÇLAR</h2>
                    <div class="form-row">
                        <div class="checkbox-group">
                            <input type="checkbox" id="flowerGreetingTr" name="flowerGreeting">
                            <label for="flowerGreetingTr">Çiçek ile karşılama</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="cityTransferTr" name="cityTransfer">
                            <label for="cityTransferTr">Şehiriçi Transfer</label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="checkbox-group">
                            <input type="checkbox" id="logoGreetingTr" name="logoGreeting">
                            <label for="logoGreetingTr">Logo ile karşılama</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="gatTransferTr" name="gatTransfer">
                            <label for="gatTransferTr">GHT Transfer</label>
                        </div>
                    </div>
                    <div id="cityTransferInfoTr" class="hidden">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="pickupDateTr">Alınma Tarihi:</label>
                                <input type="text" id="pickupDateTr" name="pickupDate" placeholder="gg.aa.yyyy">
                            </div>
                            <div class="form-group">
                                <label for="pickupTimeTr">Alınma Saati:</label>
                                <input type="time" id="pickupTimeTr" name="pickupTime">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="pickupAddressTr">Adres:</label>
                                <textarea id="pickupAddressTr" name="pickupAddress" rows="3"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="otherRequestsTr">Diğer İstekler:</label>
                            <textarea id="otherRequestsTr" name="otherRequests" rows="3"></textarea>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h2>İRTİBAT BİLGİLERİ</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="authorizedPersonTr">İrtibat Kişisi:</label>
                            <input type="text" id="authorizedPersonTr" name="authorizedPerson">
                        </div>
                        <div class="form-group">
                            <label for="authorizedNumberTr">İrtibat Kişisi Numarası:</label>
                            <input type="tel" id="authorizedNumberTr" name="authorizedNumber">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="driverNameTr">Şoför Adı:</label>
                            <input type="text" id="driverNameTr" name="driverName">
                        </div>
                        <div class="form-group">
                            <label for="driverNumberTr">Şoför Numarası:</label>
                            <input type="tel" id="driverNumberTr" name="driverNumber">
                        </div>
                    </div>
                    <p class="info-text">*Giden hizmet türünde buluşma sağlanabilmesi için kontak numarası gerekmektedir.</p>
                </div>

                <div class="form-section" id="invoiceInfoTr">
                    <h2>FATURA BİLGİLERİ</h2>
                    <div class="tab-container">
                        <button type="button" class="tab-button active" onclick="switchTab('bireysel', 'Tr')">Bireysel</button>
                        <button type="button" class="tab-button" onclick="switchTab('kurumsal', 'Tr')">Kurumsal</button>
                    </div>
                    <div id="bireyselTabTr" class="tab-content active">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="individualNameTr">Ad & Soyad:</label>
                                <input type="text" id="individualNameTr" name="individualName">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="identityNumberTr">Kimlik Numarası:</label>
                                <input type="text" id="identityNumberTr" name="identityNumber">
                            </div>
                        </div>
                    </div>
                    <div id="kurumsalTabTr" class="tab-content">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="invoiceNameTr">Fatura Adı:</label>
                                <input type="text" id="invoiceNameTr" name="invoiceName">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="taxOfficeTr">Vergi Dairesi:</label>
                                <input type="text" id="taxOfficeTr" name="taxOffice">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="taxNumberTr">Vergi Numarası:</label>
                                <input type="text" id="taxNumberTr" name="taxNumber">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="invoiceAddressTr">Fatura Adresi:</label>
                                <textarea id="invoiceAddressTr" name="invoiceAddress" rows="3"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="checkbox-group">
                            <input type="checkbox" id="hasAccountNumberTr" name="hasAccountNumber">
                            <label for="hasAccountNumberTr">Tarafınızca oluşturulmuş cari numaramız bulunuyor.</label>
                        </div>
                    </div>
                    <div id="accountNumberContainerTr" class="account-number-container" style="display: none;">
                        <label for="accountNumberTr">Cari numarası:</label>
                        <input type="number" id="accountNumberTr" name="accountNumber" class="account-number-input">
                    </div>
                </div>
            </form>
            <div class="instructions">
Kaydedilen PDF dosyası <span class="highlighted">resevation@igapass.com</span> e-mail adresine gönderilmelidir.

Dikkat: Formu doldurmadan önce aşağıda paylaşılan talimatları dikkatlice okumanızı rica ederiz.

1. Arrival: Hizmetlerde ilgili satıra İstanbul Havalimanı'na uçuşun varış tarihi yazılacaktır. Biletinizde her zaman uçağın İstanbul Havalimanı'na geliş tarihine ve saatine dikkat etmenizi ve bu bilgilerle giriş yapmanızı rica ederiz. 
2. Departure: Hizmetimizde ilgili satıra uçağın kalkış tarihi yazılacaktır. Departure hizmetlerinde, asistanımızın şoför/yolcu ile iletişime geçmesi gerekmektedir. Aksi takdirde buluşma noktası ve saati belirlenemez.
3. Transit: Hizmetimizde, ek olarak devam uçuşu kısmını doldurmanızı rica ederiz. 
4. IGA Meet & Greet servisi: 0-6 yaş arası çocuklar için ücretsiz, 7-12 yaş arası çocuklar için %50, 65 yaş ve üzeri yetişkinler için %35 indirimlidir. İndirimden faydalanabilmeniz adına pasaport görselini paylaşmanızı rica ederiz. 
5. Board to Board (Transfer) rezervasyonları: İki uçuş arasındaki sürenin 90 dakikadan az olması halinde, misafirimizin diğer uçuşa yetişmesi konusunda Taya Yolcu Hizmetleri sorumlu tutulamayacaktır. 
6. Her uçuş ayrı bir rezervasyondur. Rezervasyonlarınızı sıralı olarak listede belirtmenizi rica ederiz. Tarih, uçuş ve kişi farklı olması durumunda (birlikte seyahat etmedikleri sürece) yeni rezervasyon oluşturulmalıdır.
7. Taya Yolcu Hizmetleri A.Ş.'nin görevli memuru, formda belirtilen kontak ve şoför numarası dışında başka bir iletişim numarası ile bağlantı kurmakla yükümlü değildir.
            </div>
            <div class="button-container">
                <button type="button" id="pdfButtonTr">PDF Olarak Kaydet</button>
                <button type="button" id="resetButtonTr" class="reset-button">Yeni Rezervasyon Oluştur</button>
            </div>
        </div>

        <!-- English content -->
        <div id="enContent" style="display: none;">
            <div class="header-container">
                <img src="https://igapass.com/medias/?context=bWFzdGVyfGltYWdlc3w3NzM0fGltYWdlL3BuZ3xpbWFnZXMvaGM1L2hlMi85MDEyNTIwNzQ3MDM4LnBuZ3w3OWFmMzBiYjNmZjJiYWMxMGQ0ZDZiNTQ2Nzk3YzVmYjgzMDI4OGYwYmNiOTBiY2NmMTRmYzU3ZGE0NjRhMzUx" 
                     alt="Meet & Greet Logo" 
                     class="logo">
                <p class="form-title">RESERVATION FORM</p>
            </div>
            <form id="reservationFormEn">
                <div class="form-section">
                    <h2>GUEST INFORMATION</h2>
                    <div class="form-group">
                        <label for="guestNameEn">Guest Name & Surname:</label>
                        <input type="text" id="guestNameEn" name="guestName" required>
                    </div>
                </div>

                <div class="form-section">
                    <h2>FLIGHT INFORMATION</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="serviceTypeEn">Service Type:</label>
                            <select id="serviceTypeEn" name="serviceType" required>
                                <option value="">Select</option>
                                <option value="arrival">Arrival</option>
                                <option value="departure">Departure</option>
                                <option value="transit">Transit</option>
                            </select>
                        </div>
                    </div>
                    <div id="arrivalInfoEn" class="hidden">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="arrivalServiceDateEn">Arrival Service Date:</label>
                                <input type="text" id="arrivalServiceDateEn" name="arrivalServiceDate" placeholder="dd.mm.yyyy">
                                <p class="info-text">*Please enter the date your flight <strong>LANDS</strong> at Istanbul Airport.</p>
                            </div>
                            <div class="form-group">
                                <label for="arrivalFlightCodeEn">Arrival Flight Code:</label>
                                <input type="text" id="arrivalFlightCodeEn" name="arrivalFlightCode" placeholder="E.g. TK1234">
                            </div>
                        </div>
                    </div>
                    <div id="departureInfoEn" class="hidden">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="departureServiceDateEn">Departure Flight Date:</label>
                                <input type="text" id="departureServiceDateEn" name="departureServiceDate" placeholder="dd.mm.yyyy">
                            </div>
                            <div class="form-group">
                                <label for="departureFlightCodeEn">Departure Flight Code:</label>
                                <input type="text" id="departureFlightCodeEn" name="departureFlightCode" placeholder="E.g. TK1234">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-section passenger-info">
                    <h2>NUMBER OF GUESTS</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="adultCountEn">Number of Adults:</label>
                            <input type="number" id="adultCountEn" name="adultCount" min="0" max="1000">
                        </div>
                        <div class="form-group">
                            <label for="seniorCountEn">Number of Senior Guests (65+):</label>
                            <input type="number" id="seniorCountEn" name="seniorCount" min="0" max="1000">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="childCountEn">Number of Children (7-12 years):</label>
                            <input type="number" id="childCountEn" name="childCount" min="0" max="1000">
                        </div>
                        <div class="form-group">
                            <label for="infantCountEn">Number of Infants (0-6 years):</label>
                            <input type="number" id="infantCountEn" name="infantCount" min="0" max="1000">
                        </div>
                    </div>
                </div>

                <div class="form-section special-requests">
                    <h2>SPECIAL REQUESTS AND NEEDS</h2>
                    <div class="form-row">
                        <div class="checkbox-group">
                            <input type="checkbox" id="flowerGreetingEn" name="flowerGreeting">
                            <label for="flowerGreetingEn">Greeting with Flower</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="cityTransferEn" name="cityTransfer">
                            <label for="cityTransferEn">City Transfer</label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="checkbox-group">
                            <input type="checkbox" id="logoGreetingEn" name="logoGreeting">
                            <label for="logoGreetingEn">Greeting with Logo</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="gatTransferEn" name="gatTransfer">
                            <label for="gatTransferEn">GAT Transfer</label>
                        </div>
                    </div>
                    <div id="cityTransferInfoEn" class="hidden">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="pickupDateEn">Pick-up Date:</label>
                                <input type="text" id="pickupDateEn" name="pickupDate" placeholder="dd.mm.yyyy">
                            </div>
                            <div class="form-group">
                                <label for="pickupTimeEn">Pick-up Time:</label>
                                <input type="time" id="pickupTimeEn" name="pickupTime">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="pickupAddressEn">Address:</label>
                                <textarea id="pickupAddressEn" name="pickupAddress" rows="3"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="otherRequestsEn">Other Requests:</label>
                            <textarea id="otherRequestsEn" name="otherRequests" rows="3"></textarea>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h2>CONTACT INFORMATION</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="authorizedPersonEn">Contact Person:</label>
                            <input type="text" id="authorizedPersonEn" name="authorizedPerson">
                        </div>
                        <div class="form-group">
                            <label for="authorizedNumberEn">Contact Person's Number:</label>
                            <input type="tel" id="authorizedNumberEn" name="authorizedNumber">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="driverNameEn">Driver's Name:</label>
                            <input type="text" id="driverNameEn" name="driverName">
                        </div>
                        <div class="form-group">
                            <label for="driverNumberEn">Driver's Number:</label>
                            <input type="tel" id="driverNumberEn" name="driverNumber">
                        </div>
                    </div>
                   <p class="info-text">*A contact number is required to arrange a meeting for departure service types.</p>
                </div>
			
                <div class="form-section" id="invoiceInfoEn">
                    <h2>INVOICE INFORMATION</h2>
                    <div class="tab-container">
                        <button type="button" class="tab-button active" onclick="switchTab('individual', 'En')">Individual</button>
                        <button type="button" class="tab-button" onclick="switchTab('corporate', 'En')">Corporate</button>
                    </div>
                    <div id="individualTabEn" class="tab-content active">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="individualNameEn">Name & Surname:</label>
                                <input type="text" id="individualNameEn" name="individualName">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="identityNumberEn">Identity Number:</label>
                                <input type="text" id="identityNumberEn" name="identityNumber">
                            </div>
                        </div>
                    </div>
                    <div id="corporateTabEn" class="tab-content">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="invoiceNameEn">Invoice Name:</label>
                                <input type="text" id="invoiceNameEn" name="invoiceName">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="taxOfficeEn">Tax Office:</label>
                                <input type="text" id="taxOfficeEn" name="taxOffice">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="taxNumberEn">Tax Number:</label>
                                <input type="text" id="taxNumberEn" name="taxNumber">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="invoiceAddressEn">Invoice Address:</label>
                                <textarea id="invoiceAddressEn" name="invoiceAddress" rows="3"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="checkbox-group">
                            <input type="checkbox" id="hasAccountNumberEn" name="hasAccountNumber">
                            <label for="hasAccountNumberEn">We have an account number created by you.</label>
                        </div>
                    </div>
                    <div id="accountNumberContainerEn" class="account-number-container" style="display: none;">
                        <label for="accountNumberEn">Account number:</label>
                        <input type="number" id="accountNumberEn" name="accountNumber" class="account-number-input">
                    </div>
                </div>
            </form>
            <div class="instructions">
The saved PDF file should be sent to the email address <span class="highlighted">resevation@igapass.com</span>.

Attention: Please carefully read the instructions shared below before filling out the form.

1. Arrival: The arrival date of the flight to Istanbul Airport should be written in the relevant row for services. Please always pay attention to the date and time of the plane's arrival at Istanbul Airport on your ticket and enter with this information.
2. Departure: The departure date of the flight should be written in the relevant row for our service. For departure services, our assistant needs to contact the driver/passenger. Otherwise, the meeting point and time cannot be determined.
3. Transit: For our service, please additionally fill in the connecting flight section.
4. IGA Meet & Greet service: Free for children aged 0-6, 50% discount for children aged 7-12, and 35% discount for adults aged 65 and over. To benefit from the discount, please share a passport image.
5. Board to Board (Transfer) reservations: If the time between two flights is less than 90 minutes, Taya Passenger Services cannot be held responsible for the guest making it to the other flight.
6. Each flight is a separate reservation. Please specify your reservations in order on the list. If the date, flight, and person are different (unless they are traveling together), a new reservation must be created.
7. The authorized officer of Taya Passenger Services Inc. is not obliged to contact any communication number other than the contact and driver numbers specified in the form.
            </div>
            <div class="button-container">
                <button type="button" id="pdfButtonEn">Save as PDF</button>
                <button type="button" id="resetButtonEn" class="reset-button">Create New Reservation</button>
            </div>
        </div>
    </div>

    <script>
document.addEventListener('DOMContentLoaded', function() {
    function toggleFlightInfo(lang) {
        const serviceType = document.getElementById('serviceType' + lang).value;
        const arrivalInfo = document.getElementById('arrivalInfo' + lang);
        const departureInfo = document.getElementById('departureInfo' + lang);

        arrivalInfo.classList.add('hidden');
        departureInfo.classList.add('hidden');

        if (serviceType === 'arrival') {
            arrivalInfo.classList.remove('hidden');
        } else if (serviceType === 'departure') {
            departureInfo.classList.remove('hidden');
        } else if (serviceType === 'transit') {
            arrivalInfo.classList.remove('hidden');
            departureInfo.classList.remove('hidden');
        }
    }

    function toggleCityTransferInfo(lang) {
        const cityTransferCheckbox = document.getElementById('cityTransfer' + lang);
        const cityTransferInfo = document.getElementById('cityTransferInfo' + lang);

        if (cityTransferCheckbox.checked) {
            cityTransferInfo.classList.remove('hidden');
        } else {
            cityTransferInfo.classList.add('hidden');
        }
    }

    function toggleAccountNumberField(lang) {
        const hasAccountNumber = document.getElementById('hasAccountNumber' + lang);
        const accountNumberContainer = document.getElementById('accountNumberContainer' + lang);
        accountNumberContainer.style.display = hasAccountNumber.checked ? 'block' : 'none';
    }

    function formatFlightCode(input) {
        let value = input.value.trim().toUpperCase();
        value = value.replace(/[^A-Z0-9]/g, '');
        
        if (value.length >= 2) {
            let letters = value.substring(0, 2);
            let numbers = value.substring(2).padStart(4, '0');
            input.value = letters + numbers;
        } else {
            input.value = value;
        }
    }

    function formatDate(dateString, lang) {
        if (!dateString) return '';
        const parts = dateString.split('.');
        if (parts.length !== 3) return dateString; // Return original string if it's not in the expected format
        const [day, month, year] = parts;
        return `${day}.${month}.${year}`;
    }

    function translateServiceType(type) {
        switch (type) {
            case 'arrival':
                return 'Arrival';
            case 'departure':
                return 'Departure';
            case 'transit':
                return 'Transit';
            default:
                return type;
        }
    }

    function downloadPDF(lang) {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();

        doc.addFont('https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.66/fonts/Roboto/Roboto-Regular.ttf', 'Roboto', 'normal');
        doc.setFont('Roboto');

        doc.setFontSize(18);
        doc.text(lang === 'Tr' ? "Meet & Greet Rezervasyon Formu" : "Meet & Greet Reservation Form", 105, 15, null, null, "center");

        const formData = new FormData(document.getElementById('reservationForm' + lang));
        let data = [];

        for (let [key, value] of formData.entries()) {
            const labelElement = document.querySelector(`label[for="${key + lang}"]`);
            if (labelElement) {
                const label = labelElement.textContent;
                
                if (key.includes('Date')) {
                    value = formatDate(value, lang);
                }
                
                if (key === 'serviceType') {
                    value = translateServiceType(value);
                }

                if (key.startsWith('flowerGreeting') || key.startsWith('logoGreeting') || key.startsWith('cityTransfer') || key.startsWith('gatTransfer')) {
                    value = value === 'on' ? (lang === 'Tr' ? 'Evet' : 'Yes') : (lang === 'Tr' ? 'Hayır' : 'No');
                }
                
                data.push([label, value]);
            }
        }

        doc.autoTable({
            head: [[lang === 'Tr' ? 'Alan' : 'Field', lang === 'Tr' ? 'Değer' : 'Value']],
            body: data,
            startY: 25,
            styles: { font: 'Roboto', fontSize: 10, cellPadding: 5 },
            columnStyles: { 0: { cellWidth: 100 }, 1: { cellWidth: 90 } }
        });

        doc.save(lang === 'Tr' ? "meet_greet_rezervasyon_formu.pdf" : "meet_greet_reservation_form.pdf");

        // Activate the reset button after saving PDF
        activateResetButton(lang);
    }

    function resetForm(lang) {
        if (confirm(lang === 'Tr' ? 'Tüm bilgiler silinecek. Emin misiniz?' : 'All information will be deleted. Are you sure?')) {
            document.getElementById('reservationForm' + lang).reset();
            document.getElementById('arrivalInfo' + lang).classList.add('hidden');
            document.getElementById('departureInfo' + lang).classList.add('hidden');
            document.getElementById('cityTransferInfo' + lang).classList.add('hidden');
            document.getElementById('accountNumberContainer' + lang).style.display = 'none';
            
            // Use the correct tab name based on the language
            const defaultTab = lang === 'Tr' ? 'bireysel' : 'individual';
            switchTab(defaultTab, lang);
            
            // Make sure invoice information is visible
            document.getElementById('invoiceInfo' + lang).style.display = 'block';
            
            deactivateResetButton(lang);
        }
    }

    function activateResetButton(lang) {
        const resetButton = document.getElementById('resetButton' + lang);
        resetButton.classList.add('active');
        resetButton.disabled = false;
    }

    function deactivateResetButton(lang) {
        const resetButton = document.getElementById('resetButton' + lang);
        resetButton.classList.remove('active');
        resetButton.disabled = true;
    }

    function switchTab(tabName, lang) {
        const tabs = document.querySelectorAll(`#invoiceInfo${lang} .tab-button`);
        const contents = document.querySelectorAll(`#invoiceInfo${lang} .tab-content`);
        
        tabs.forEach(tab => tab.classList.remove('active'));
        contents.forEach(content => content.classList.remove('active'));
        
        const activeTab = document.querySelector(`#invoiceInfo${lang} .tab-button:nth-child(${tabName === 'bireysel' || tabName === 'individual' ? '1' : '2'})`);
        const activeContent = document.getElementById(`${tabName}Tab${lang}`);
        
        activeTab.classList.add('active');
        activeContent.classList.add('active');
    }

    function initializeDatePickers(lang) {
        const dateInputs = [
            document.getElementById('arrivalServiceDate' + lang),
            document.getElementById('departureServiceDate' + lang),
            document.getElementById('pickupDate' + lang)
        ];

        dateInputs.forEach(input => {
            if (input) {
                flatpickr(input, {
                    dateFormat: "d.m.Y",
                    allowInput: true,
                    parseDate: (datestr, format) => {
                        return flatpickr.parseDate(datestr, format);
                    },
                    formatDate: (date, format, locale) => {
                        return flatpickr.formatDate(date, format);
                    },
                    onClose: function(selectedDates, dateStr, instance) {
                        if (dateStr && !selectedDates[0]) {
                            const parts = dateStr.split('.');
                            if (parts.length === 3) {
                                const day = parts[0].padStart(2, '0');
                                const month = parts[1].padStart(2, '0');
                                const year = parts[2].length === 2 ? `20${parts[2]}` : parts[2];
                                instance.setDate(`${day}.${month}.${year}`, true, "d.m.Y");
                            }
                        }
                    }
                });
            }
        });
    }

    function addEventListeners(lang) {
        document.getElementById('serviceType' + lang).addEventListener('change', () => toggleFlightInfo(lang));
        document.getElementById('cityTransfer' + lang).addEventListener('change', () => toggleCityTransferInfo(lang));
        document.getElementById('hasAccountNumber' + lang).addEventListener('change', () => toggleAccountNumberField(lang));
        
        const arrivalFlightCode = document.getElementById('arrivalFlightCode' + lang);
        if (arrivalFlightCode) {
            arrivalFlightCode.addEventListener('blur', function() { formatFlightCode(this); });
        }
        
        const departureFlightCode = document.getElementById('departureFlightCode' + lang);
        if (departureFlightCode) {
            departureFlightCode.addEventListener('blur', function() { formatFlightCode(this); });
        }
        
        document.getElementById('pdfButton' + lang).addEventListener('click', () => downloadPDF(lang));
        document.getElementById('resetButton' + lang).addEventListener('click', () => resetForm(lang));

        // Add event listeners for tab buttons
        const tabButtons = document.querySelectorAll(`#invoiceInfo${lang} .tab-button`);
        tabButtons.forEach((button, index) => {
            button.addEventListener('click', () => switchTab(index === 0 ? (lang === 'Tr' ? 'bireysel' : 'individual') : (lang === 'Tr' ? 'kurumsal' : 'corporate'), lang));
        });

        // Deactivate reset button initially
        deactivateResetButton(lang);
    }

    function changeLanguage() {
        const lang = document.getElementById('languageSelect').value;
        document.getElementById('trContent').style.display = lang === 'tr' ? 'block' : 'none';
        document.getElementById('enContent').style.display = lang === 'en' ? 'block' : 'none';
        document.documentElement.lang = lang;
    }

    // Initialize language based on browser settings
    const userLang = navigator.language || navigator.userLanguage;
    const defaultLang = userLang.startsWith('tr') ? 'tr' : 'en';
    document.getElementById('languageSelect').value = defaultLang;
    changeLanguage();

    // Add event listeners for both languages
    addEventListeners('Tr');
    addEventListeners('En');

    // Initialize date pickers for both languages
    initializeDatePickers('Tr');
    initializeDatePickers('En');

    // Add event listener for language change
    document.getElementById('languageSelect').addEventListener('change', changeLanguage);
});
</script>
</body>
</html>
